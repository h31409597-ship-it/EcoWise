
      const MOCHA_ENV = {
        APP_ID: '019a2a50-7152-75ee-bb01-f1707423fb67',
        APP_URL: 'https://getmocha.com/apps/019a2a50-7152-75ee-bb01-f1707423fb67',
        SHOW_WATERMARK: 'true',
        NODE_ENV: 'development',
        PLUGINS: 'mocha-watermark,error-reporter,error-overlay,preview-iframe-history,canvas-mode',
        DEBUG_LOGS: 'false',
      };

      function postMessageToParent(message) {
    if (window.parent) {
        window.parent.postMessage(message, '*');
    }
}
// Report URL change event from iframe
const originalPushState = history.pushState;
const originalReplaceState = history.replaceState;
const notifyParent = () => {
    postMessageToParent({ type: 'iframe_url_changed', url: window.location.href });
};
history.pushState = function (...args) {
    originalPushState.apply(this, args);
    notifyParent();
};
history.replaceState = function (...args) {
    originalReplaceState.apply(this, args);
    notifyParent();
};
window.addEventListener('popstate', notifyParent);
window.addEventListener('hashchange', notifyParent);
if (MOCHA_ENV.DEBUG_LOGS === 'true') {
    console.log('[mocha-preview-iframe-history] installed!');
}
export {};

    
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZpcnR1YWw6cHJldmlldy1pZnJhbWUtaGlzdG9yeS1pbmplY3RlZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGNvbnN0IE1PQ0hBX0VOViA9IHtcbiAgICAgICAgQVBQX0lEOiAnMDE5YTJhNTAtNzE1Mi03NWVlLWJiMDEtZjE3MDc0MjNmYjY3JyxcbiAgICAgICAgQVBQX1VSTDogJ2h0dHBzOi8vZ2V0bW9jaGEuY29tL2FwcHMvMDE5YTJhNTAtNzE1Mi03NWVlLWJiMDEtZjE3MDc0MjNmYjY3JyxcbiAgICAgICAgU0hPV19XQVRFUk1BUks6ICd0cnVlJyxcbiAgICAgICAgTk9ERV9FTlY6ICdkZXZlbG9wbWVudCcsXG4gICAgICAgIFBMVUdJTlM6ICdtb2NoYS13YXRlcm1hcmssZXJyb3ItcmVwb3J0ZXIsZXJyb3Itb3ZlcmxheSxwcmV2aWV3LWlmcmFtZS1oaXN0b3J5LGNhbnZhcy1tb2RlJyxcbiAgICAgICAgREVCVUdfTE9HUzogJ2ZhbHNlJyxcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHBvc3RNZXNzYWdlVG9QYXJlbnQobWVzc2FnZSkge1xuICAgIGlmICh3aW5kb3cucGFyZW50KSB7XG4gICAgICAgIHdpbmRvdy5wYXJlbnQucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICB9XG59XG4vLyBSZXBvcnQgVVJMIGNoYW5nZSBldmVudCBmcm9tIGlmcmFtZVxuY29uc3Qgb3JpZ2luYWxQdXNoU3RhdGUgPSBoaXN0b3J5LnB1c2hTdGF0ZTtcbmNvbnN0IG9yaWdpbmFsUmVwbGFjZVN0YXRlID0gaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG5jb25zdCBub3RpZnlQYXJlbnQgPSAoKSA9PiB7XG4gICAgcG9zdE1lc3NhZ2VUb1BhcmVudCh7IHR5cGU6ICdpZnJhbWVfdXJsX2NoYW5nZWQnLCB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmIH0pO1xufTtcbmhpc3RvcnkucHVzaFN0YXRlID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBvcmlnaW5hbFB1c2hTdGF0ZS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBub3RpZnlQYXJlbnQoKTtcbn07XG5oaXN0b3J5LnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgb3JpZ2luYWxSZXBsYWNlU3RhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbm90aWZ5UGFyZW50KCk7XG59O1xud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgbm90aWZ5UGFyZW50KTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgbm90aWZ5UGFyZW50KTtcbmlmIChNT0NIQV9FTlYuREVCVUdfTE9HUyA9PT0gJ3RydWUnKSB7XG4gICAgY29uc29sZS5sb2coJ1ttb2NoYS1wcmV2aWV3LWlmcmFtZS1oaXN0b3J5XSBpbnN0YWxsZWQhJyk7XG59XG5leHBvcnQge307XG5cbiAgICAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7QUFDdEQsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO0FBQ2pGLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUM5QixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztBQUNsRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDM0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7QUFFUCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDNUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDdkIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0MsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKO0FBQ0EsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUNoQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTO0FBQzNDLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVk7QUFDakQsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2xGLENBQUM7QUFDRCxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QyxDQUFDLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDdkMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNsQixDQUFDO0FBQ0QsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzFDLENBQUMsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDbEIsQ0FBQztBQUNELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQ25ELEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDckMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzVEO0FBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQzs7QUFFVCxDQUFDLENBQUMsQ0FBQyJ9